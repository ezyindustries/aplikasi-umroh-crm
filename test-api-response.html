<!DOCTYPE html>
<html>
<head>
    <title>Test API Response</title>
</head>
<body>
    <h1>Testing Autoreply API Response</h1>
    <div id="results"></div>

    <script>
        async function testAPI() {
            const results = document.getElementById('results');
            
            try {
                // Test logs endpoint
                console.log('Testing /api/automation/logs...');
                const logsResponse = await fetch('http://localhost:3003/api/automation/logs?limit=10');
                const logsData = await logsResponse.json();
                
                results.innerHTML += '<h2>Logs Response:</h2>';
                results.innerHTML += '<pre>' + JSON.stringify(logsData, null, 2) + '</pre>';
                
                console.log('Logs data:', logsData);
                
                // Test stats endpoint
                console.log('Testing /api/automation/stats...');
                const statsResponse = await fetch('http://localhost:3003/api/automation/stats');
                const statsData = await statsResponse.json();
                
                results.innerHTML += '<h2>Stats Response:</h2>';
                results.innerHTML += '<pre>' + JSON.stringify(statsData, null, 2) + '</pre>';
                
                console.log('Stats data:', statsData);
                
                // Test rule triggers endpoint
                console.log('Testing /api/automation/rule-triggers...');
                const rulesResponse = await fetch('http://localhost:3003/api/automation/rule-triggers');
                const rulesData = await rulesResponse.json();
                
                results.innerHTML += '<h2>Rule Triggers Response:</h2>';
                results.innerHTML += '<pre>' + JSON.stringify(rulesData, null, 2) + '</pre>';
                
                console.log('Rules data:', rulesData);
                
            } catch (error) {
                console.error('Error:', error);
                results.innerHTML += '<p style="color: red;">Error: ' + error.message + '</p>';
            }
        }
        
        testAPI();
    </script>
</body>
</html>